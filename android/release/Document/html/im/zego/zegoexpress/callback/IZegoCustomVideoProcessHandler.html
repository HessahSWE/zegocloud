<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>IZegoCustomVideoProcessHandler (ZegoExpressEngine API Specification)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IZegoCustomVideoProcessHandler (ZegoExpressEngine API Specification)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">im.zego.zegoexpress.callback</a></div>
<h2 title="Class IZegoCustomVideoProcessHandler" class="title">Class IZegoCustomVideoProcessHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>im.zego.zegoexpress.callback.IZegoCustomVideoProcessHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">IZegoCustomVideoProcessHandler</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">IZegoCustomVideoProcessHandler</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>android.graphics.SurfaceTexture</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCustomVideoProcessInputSurfaceTexture(int,int,im.zego.zegoexpress.constants.ZegoPublishChannel)">getCustomVideoProcessInputSurfaceTexture</a></span>&#8203;(int&nbsp;width,
                                        int&nbsp;height,
                                        <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</code></th>
<td class="colLast">
<div class="block">When the developer chooses the SurfaceTexture video pre-processing type, the SurfaceTexture used to input the original video data is obtained through this interface and passed to the SDK.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onCapturedUnprocessedRawData(java.nio.ByteBuffer,int%5B%5D,im.zego.zegoexpress.entity.ZegoVideoFrameParam,long,im.zego.zegoexpress.constants.ZegoPublishChannel)">onCapturedUnprocessedRawData</a></span>&#8203;(java.nio.ByteBuffer&nbsp;data,
                            int[]&nbsp;dataLength,
                            <a href="../entity/ZegoVideoFrameParam.html" title="class in im.zego.zegoexpress.entity">ZegoVideoFrameParam</a>&nbsp;param,
                            long&nbsp;referenceTimeMillisecond,
                            <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</code></th>
<td class="colLast">
<div class="block">Call back when the original video data is obtained.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onCapturedUnprocessedTextureData(int,int,int,long,im.zego.zegoexpress.constants.ZegoPublishChannel)">onCapturedUnprocessedTextureData</a></span>&#8203;(int&nbsp;textureID,
                                int&nbsp;width,
                                int&nbsp;height,
                                long&nbsp;referenceTimeMillisecond,
                                <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</code></th>
<td class="colLast">
<div class="block">Call back when the original video data of type [Texture] is obtained.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onStart(im.zego.zegoexpress.constants.ZegoPublishChannel)">onStart</a></span>&#8203;(<a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</code></th>
<td class="colLast">
<div class="block">The SDK informs the developer that it is about to start custom video processing.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onStop(im.zego.zegoexpress.constants.ZegoPublishChannel)">onStop</a></span>&#8203;(<a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</code></th>
<td class="colLast">
<div class="block">The SDK informs the developer to stop custom video processing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IZegoCustomVideoProcessHandler</h4>
<pre>public&nbsp;IZegoCustomVideoProcessHandler()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="onStart(im.zego.zegoexpress.constants.ZegoPublishChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStart</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onStart&#8203;(<a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</pre>
<div class="block">The SDK informs the developer that it is about to start custom video processing.

 Available since: 2.2.0
 Description: When the custom video pre-processing is turned on, the SDK informs the developer that the video pre-processing is about to start, and it is recommended to initialize other resources(E.g. Beauty SDK) in this callback.
 Use cases: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
 When to Trigger: Open custom video pre-processing, after calling [startPreview] or [startPublishingStream] successfully.
 Related callbacks: Custom video pre-processing end notification [onStop].
 Related APIs: Call [setCustomVideoProcessHandler] function to set custom video pre-processing callback.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - Publishing stream channel.</dd>
</dl>
</li>
</ul>
<a id="onStop(im.zego.zegoexpress.constants.ZegoPublishChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onStop</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onStop&#8203;(<a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</pre>
<div class="block">The SDK informs the developer to stop custom video processing.

 Available since: 2.2.0
 Description: When the custom video pre-processing is turned on, the SDK informs the developer that the video pre-processing is about to end, and it is recommended to destroy other resources(E.g. Beauty SDK) in this callback.
 Use cases: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
 When to Trigger: If you call [startPreview] to start the preview and [startPublishingStream] to start the push stream at the same time after you start the custom capture, you should call [stopPreview] to stop the preview and [stopPublishingStream] to stop the push stream before the callback will be triggered.
 Related callbacks: Custom video pre-processing start notification [onStart].
 Related APIs: Call [setCustomVideoProcessHandler] function to set custom video pre-processing callback.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>channel</code> - Publishing stream channel.</dd>
</dl>
</li>
</ul>
<a id="onCapturedUnprocessedRawData(java.nio.ByteBuffer,int[],im.zego.zegoexpress.entity.ZegoVideoFrameParam,long,im.zego.zegoexpress.constants.ZegoPublishChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCapturedUnprocessedRawData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onCapturedUnprocessedRawData&#8203;(java.nio.ByteBuffer&nbsp;data,
                                         int[]&nbsp;dataLength,
                                         <a href="../entity/ZegoVideoFrameParam.html" title="class in im.zego.zegoexpress.entity">ZegoVideoFrameParam</a>&nbsp;param,
                                         long&nbsp;referenceTimeMillisecond,
                                         <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</pre>
<div class="block">Call back when the original video data is obtained.

 Available since: 2.2.0
 Description: When the custom video pre-processing is turned on, after calling [setCustomVideoProcessHandler] to set the callback, the SDK receives the original video data and calls back to the developer. After the developer has processed the original image, he must call [sendCustomVideoProcessedRawData] to send the processed data back to the SDK, otherwise it will cause frame loss.
 Use cases: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
 When to Trigger: When the custom video pre-processing is enabled, the SDK collects the original video data.
 Restrictions: This interface takes effect when [enableCustomVideoProcessing] is called to enable custom video pre-processing and the bufferType of config is passed in [ZegoVideoBufferTypeRawData].
 Platform differences: Available for Window, Android platforms.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - Raw video data. RGB format data storage location is data[0], YUV format data storage location is Y component：data[0], U component：data[1], V component：data[2].</dd>
<dd><code>dataLength</code> - Raw video data length. RGB format data length storage location is dataLength[0], YUV format data storage location respectively Y component length：dataLength[0], U component length：dataLength[1], V component length：dataLength[2].</dd>
<dd><code>param</code> - Video frame parameters.</dd>
<dd><code>referenceTimeMillisecond</code> - video frame reference time, UNIX timestamp, or system startup timestamp, in milliseconds.</dd>
<dd><code>channel</code> - Publishing stream channel.</dd>
</dl>
</li>
</ul>
<a id="onCapturedUnprocessedTextureData(int,int,int,long,im.zego.zegoexpress.constants.ZegoPublishChannel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onCapturedUnprocessedTextureData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onCapturedUnprocessedTextureData&#8203;(int&nbsp;textureID,
                                             int&nbsp;width,
                                             int&nbsp;height,
                                             long&nbsp;referenceTimeMillisecond,
                                             <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</pre>
<div class="block">Call back when the original video data of type [Texture] is obtained.

 Available since: 2.2.0
 Description: When the custom video pre-processing is turned on, after calling [setCustomVideoProcessHandler] to set the callback, the SDK receives the original video data and calls back to the developer. After the developer has processed the original image, he must call [sendCustomVideoProcessedTextureData] to send the processed data back to the SDK, otherwise it will cause frame loss.
 Use cases: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
 When to Trigger: When the custom video pre-processing is enabled, the SDK collects the original video data.
 Restrictions: This interface takes effect when [enableCustomVideoProcessing] is called to enable custom video pre-processing and the bufferType of config is passed in [ZegoVideoBufferTypeGLTexture2D].
 Platform differences: It only takes effect on the Android platform.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>textureID</code> - Texture ID.</dd>
<dd><code>width</code> - Texture width.</dd>
<dd><code>height</code> - Texture height.</dd>
<dd><code>referenceTimeMillisecond</code> - video frame reference time, UNIX timestamp, in milliseconds.</dd>
<dd><code>channel</code> - Publishing stream channel.</dd>
</dl>
</li>
</ul>
<a id="getCustomVideoProcessInputSurfaceTexture(int,int,im.zego.zegoexpress.constants.ZegoPublishChannel)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCustomVideoProcessInputSurfaceTexture</h4>
<pre class="methodSignature">public&nbsp;android.graphics.SurfaceTexture&nbsp;getCustomVideoProcessInputSurfaceTexture&#8203;(int&nbsp;width,
                                                                                int&nbsp;height,
                                                                                <a href="../constants/ZegoPublishChannel.html" title="enum in im.zego.zegoexpress.constants">ZegoPublishChannel</a>&nbsp;channel)</pre>
<div class="block">When the developer chooses the SurfaceTexture video pre-processing type, the SurfaceTexture used to input the original video data is obtained through this interface and passed to the SDK.

 Available since: 2.2.0
 Description: To enable custom video pre-processing, developers need to create a SurfaceTexture object and listen to its member method [setOnFrameAvailableListener], and then return the corresponding SurfaceTexture. When the SDK raw video data input is completed, the developer will receive [onFrameAvailable]. After the developer passes the SurfaceTexture(input) object to the SDK, he can call [getCustomVideoProcessOutputSurfaceTexture] to get the SurfaceTexture used by the SDK to encode and push the stream, and then the developer can pass the video processed data into this SurfaceTexture(output) object.
 Use cases: After the developer collects the video data by himself or obtains the video data collected by the SDK, if the basic beauty and watermark functions of the SDK cannot meet the needs of the developer (for example, the beauty effect cannot meet the expectations), the ZegoEffects SDK can be used to perform the video Some special processing, such as beautifying, adding pendants, etc., this process is the pre-processing of custom video.
 Restrictions: This interface takes effect when [enableCustomVideoProcessing] is called to enable custom video pre-processing and the bufferType of config is passed in [ZegoVideoBufferTypeSurfaceTexture].
 Platform differences: It only takes effect on the Android platform.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>width</code> - The capture width of the original video.</dd>
<dd><code>height</code> - The capture height of the original video.</dd>
<dd><code>channel</code> - Publishing stream channel.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>SurfaceTexture instance.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><p style='width:100%;align:center'>Copyright © 2024 Zego. All rights reserved.</p></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
